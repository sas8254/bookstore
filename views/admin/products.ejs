<% layout('layouts/boilerplate.ejs') %>
<main>
  <div class="mt-2">
    <% if (books.length > 0) { %>
    <div class="container">
      <div class="row justify-content-center">
        <% for (let book of books) { %>
        <div class="col-lg-3 col-md-4 col-sm-6 ">
          <div class="card my-3" >
            <img
              src="<%= book.imageUrl %>"
              class="card-img-top"
              alt="A Book"
            />
            <div class="card-body">
              <h5 class="card-title" style="max-height: 48px; height: 48px;"><%= book.title %></h5>
              <h6 class="card-subtitle mb-2 text-muted"><% book.author %></h6>
              <p class="card-text" style="height: 120px;" >  
                <%= `${book.description.substring(0,150)} ${book.description.length>150?"...":""}` %>
              </p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item"><%= book.price %></li>
            </ul>
            <div class="card-body">
              <a href="/admin/edit-product/<%=book._id%>" class="btn btn-sm btn-warning d-inline-block ">Edit</a>
              <form class="d-inline-block" action="/admin/delete-product/<%=book._id%>" method="post">
                <button class="btn btn-sm ms-3 btn-danger d-inline-block">Delete</button>
            </form>
            </div>
          </div>
        </div>
        <% } %>
      </div>
    </div>
    <% } else { %>
    <h1>No Products Found!</h1>
    <% } %>
  </div>
</main>
